<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/>
    <title>{{ title }}</title>
</head>

<body>
<main class="h-screen">
    <nav class="shadow p-2 px-4 mb-8 bg-white">
        <div>
            <h4 class="text-gray-900 text-sm font-bold">Tailcoin Admin</h4>
        </div>
    </nav>

    <div
            class="z-50 flex justify-center h-screen items-center bg-gray-500 bg-opacity-50 antialiased fixed w-screen h-screen top-0 backdrop-filter"
            id="modal_vue"
            v-if="show"
    >
        <div class="flex flex-col w-11/12 sm:w-5/6 lg:w-1/2 max-w-2xl mx-auto rounded-lg border border-gray-300 shadow-xl">
            <div class="flex flex-row justify-between p-6 bg-white border-b border-gray-200 rounded-tl-lg rounded-tr-lg">
                <p class="font-semibold text-gray-800" v-text="title"></p>
                <svg
                        class="w-6 h-6 cursor-pointer"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                        @click="show = false"
                >
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </div>
            <form @submit.prevent="submit" id="modal_data_vue">
                <div class="flex flex-col px-6 py-5 bg-gray-50">
                    <div v-for="fluid in fluids" :key="fluid.name">
                        <p class="mb-2 font-regular text-gray-500 text-sm" v-text="fluid.label" v-if="fluid.label"></p>
                        <h4
                                class="mb-1 font-semibold text-gray-900 text-md"
                                v-if="fluid.type.split(':')[0] == 'chat'"
                                v-text="fluid.name"
                        ></h4>
                        <p
                                class="mb-4 font-regular text-gray-900 text-sm"
                                v-if="fluid.type.split(':')[0] == 'chat'"
                                v-text="fluid.value"
                        ></p>

                        <p
                                class="mb-2 font-regular text-gray-900 text-md"
                                v-if="fluid.type.split(':')[0] == 'text'"
                                :type="fluid.type.split(':')[1]"
                                :name="fluid.name"
                                v-text="fluid.value"
                        ></p>
                        <input
                                v-if="fluid.type.split(':')[0] == 'input'"
                                :type="fluid.type.split(':')[1]"
                                :name="fluid.name"
                                :placeholder="fluid.placeholder"
                                class="outline-none focus:ring focus:ring-blue-500 p-2 px-3 mb-5 bg-white w-full border border-gray-200 rounded shadow-sm"
                        />
                        <textarea
                                v-if="fluid.type.split(':')[0] == 'textarea'"
                                :type="fluid.type.split(':')[1]"
                                :name="fluid.name"
                                :placeholder="fluid.placeholder"
                                class="outline-none focus:ring focus:ring-blue-500 p-2 px-3 mb-5 bg-white w-full border border-gray-200 rounded shadow-sm"
                        ></textarea>
                        <select
                                v-if="fluid.type.split(':')[0] == 'select'"
                                :type="fluid.type.split(':')[1]"
                                :name="fluid.name"
                                :placeholder="fluid.placeholder"
                                class="outline-none focus:ring focus:ring-blue-500 p-2 px-3 w-full mb-5 bg-white border border-gray-200 rounded shadow-sm appearance-none"
                        >
                            <option :value="item.value" v-text="item.text" v-for="item in fluid.value"
                                    :key="fluid.value"></option>
                        </select>
                        <input
                                class="inline-flex outline-none rounded-full focus:ring focus:ring-blue-500"
                                v-if="fluid.type.split(':')[0] == 'checkbox'"
                                :type="fluid.type.split(':')[1]"
                                :name="fluid.name"
                                :id="fluid.name"
                                :value="fluid.value"
                        />
                        <label
                                v-if="fluid.type.split(':')[0] == 'checkbox'"
                                class="inline-flex font-semibold text-gray-400"
                                :for="fluid.name"
                                v-text="fluid.placeholder"
                        >
                        </label>
                    </div>
                </div>
                <div
                        class="flex flex-row items-center justify-between p-5 bg-white border-t border-gray-200 rounded-bl-lg rounded-br-lg"
                >
                    <button class="px-2 py-2 text-white font-semibold bg-blue-500 rounded w-full">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <div class="container mx-auto">
        <h1 class="text-2xl font-black mb-4">Панель управления</h1>

        <div class="px-1 text-gray-900 text-sm">
            <ul class="flex">
                <li>
                    <a href="#" class="underline font-semibold">Главная процедура</a>
                </li>
                <li><span class="mx-2">/</span></li>
                <li><a href="#" class="underline font-semibold">Экраны</a></li>
                <li><span class="mx-2">/</span></li>
                <li>Домашний экран</li>
            </ul>
        </div>

        <div class="mt-12">
            <div class="column w-4/12">
                <div class="portlet shadow border rounded-xl p-0 m-0 bg-white" id="chat_vue">
                    <div class="portlet-header m-0 px-3 py-2 text-gray-900 text-sm font-semibold border-gray-100 border-b">
                        Чат с клиентом
                    </div>

                    <div class="portlet-content">
                        <div v-if="state == 'wait_chat'" class="p-0 m-0">
                            <div class="flex flex-col my-24">
                                <div class="grid place-items-center mx-2 my-20 sm:my-auto">
                                    <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-12 w-12 mb-4 text-blue-500"
                                            viewBox="0 0 20 20"
                                            fill="currentColor"
                                    >
                                        <path
                                                fill-rule="evenodd"
                                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                                                clip-rule="evenodd"
                                        />
                                    </svg>

                                    <h2 class="text-xl text-gray-900 font-semibold mb-2">Ожидание</h2>
                                    <p class="text-sm text-gray-600">Ожидайте новый чат</p>
                                </div>
                            </div>
                        </div>

                        <div v-if="state == 'chat'">

                            <div class="flex items-center space-x-4 p-4 overflow-y-auto max-h-96" id="chat_container">

                                <div class="w-full">
                                    <div
                                            v-for="message in chat"
                                            :key="message.id"
                                            :class="message.sender.split(':')[0] === 'admin' ? 'flex justify-end mb-3' : (message.sender.split(':')[0] === 'customer' ? 'flex justify-start mb-3' : 'block')"
                                    >
                                        <p class="w-full text-center text-sm my-2 block text-gray-500"
                                           v-if="message.sender.split(':')[0] === 'service'" v-text="message.text"></p>
                                        <div v-else
                                             :class="[message.sender.split(':')[0] === 'admin' ? 'bg-blue-500 text-white' : 'bg-gray-100', 'py-2 px-3 rounded-md shadow text-sm float-left']"
                                        >
                                            <span v-text="message.text"></span>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="m-0 px-3 py-2 text-gray-900 text-sm font-semibold border-gray-100 border-t flex">
                                    <input
                                            type="text"
                                            name="message"
                                            id="message"
                                            placeholder="Введите сообщение"
                                            class="w-full outline-none flex"
                                            v-model="message"
                                            @keyup.enter="send"
                                    />
                                    <button class="flex text-indigo-500 outline-none" @click.prevent="send">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                             fill="currentColor">
                                            <path
                                                    d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"
                                            />
                                        </svg>
                                    </button>
                                </div>

                                <button
                                        class="mt-4 block bg-blue-600 hover:bg-blue-dark text-white font-bold py-2 px-4 rounded text-sm w-full"
                                        @click.prevent="close_chat"
                                >
                                    Закрыть чат
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="portlet shadow border rounded-xl p-0 m-0 bg-white">
                    <div class="portlet-header m-0 px-3 py-2 text-gray-900 text-sm font-semibold border-gray-100 border-b">
                        Заявки на обмен
                    </div>

                    <div class="portlet-content">
                        <div>
                            <div class="grid grid-cols-3 gap-4 p-2">
                                <div>
                                    <h4 class="font-bold p-0 m-0">Создано объявление #<span x-text="ad.id">...</span>
                                    </h4>
                                    <small class="p-0 m-0" x-text="ad.city"></small>
                                </div>
                                <div x-text="ad.price">...</div>
                                <div x-text="ad.amount">...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="column w-8/12">
                <div class="portlet shadow border rounded-xl p-0 m-0 bg-white" id="procedure_vue">
                    <div class="portlet-header m-0 px-3 py-2 text-gray-900 text-sm font-semibold border-gray-100 border-b">
                        Процедура
                    </div>

                    <div class="portlet-content">
                        <div class="p-2">
                            <input
                                    type="text"
                                    v-on:keyup.down.prevent="down()"
                                    v-on:keyup.up="up()"
                                    v-on:keyup.enter="select()"
                                    v-model="search"
                                    class="p-2 px-3 mb-5 bg-white w-full border border-gray-200 rounded shadow-sm outline-none focus:ring focus:ring-blue-500"
                                    placeholder="Поиск по процедурам"
                            />

                            <div class="flex flex-col my-12" v-if="search == ''">
                                <div class="grid place-items-center mx-2 my-20 sm:my-auto">
                                    <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-12 w-12 mb-4 text-blue-500"
                                            viewBox="0 0 20 20"
                                            fill="currentColor"
                                    >
                                        <path
                                                d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"
                                        />
                                    </svg>

                                    <h2 class="text-xl text-gray-900 font-semibold mb-2">Выполните поиск по
                                        процедурам</h2>
                                    <p class="text-sm text-center text-gray-600">Чтобы исполнить нужную процедуру, <br/>введите
                                        ее в поисковик</p>
                                </div>
                            </div>

                            <div
                                    v-for="(item, key) in filteredList"
                                    v-else
                                    :class="['my-3 p-2 bg-white pl-4 transform transition-all', key == index ? 'border-l border-blue-500' : 'border-l scale-100']"
                            >
                                <h4 v-text="item.item.title" class="font-semibold text-md">Название процедуры</h4>
                                <small v-text="item.item.desc || item.item.data" class="text-sm text-gray-500">Описание
                                    процедуры</small>
                                <button class="block mt-2 text-blue-500 text-sm"
                                        @click="index= key; procedure(item.item)">Выполнить
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="portlet shadow border rounded-xl p-0 m-0 bg-white" id="lb_integrate_vue">
                    <div class="portlet-header m-0 px-3 py-2 text-gray-900 text-sm font-semibold border-gray-100 border-b">
                        Интеграция LocalBitcoins
                    </div>

                    <div class="portlet-content">
                        <div>
                            <div class="bg-white mb-5">
                                <nav class="flex flex-col sm:flex-row">
                                    <button
                                            v-for="tab in screens"
                                            @click="select = tab.value"
                                            v-text="tab.text"
                                            :class="['text-gray-600 py-4 px-6 block hover:text-blue-500 focus:outline-none border-b-2 font-medium', select == tab.value ? 'border-blue-500 text-blue-500' : 'border-white']"
                                    />
                                </nav>
                            </div>

                            <div class="flex flex-col my-12"
                                 v-if="Object.values(list.records).length < 1 && select =='records'">
                                <div class="grid place-items-center mx-2 my-20 sm:my-auto">
                                    <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-12 w-12 mb-4 text-blue-500"
                                            viewBox="0 0 20 20"
                                            fill="currentColor"
                                    >
                                        <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"/>
                                    </svg>

                                    <h2 class="text-xl text-gray-900 font-semibold mb-2">Записей нет</h2>
                                    <p class="text-sm text-center text-gray-600">Ожидайте алгоритм на поиск выгодных
                                        сделок</p>
                                </div>
                            </div>

                            <div class="flex flex-col my-12"
                                 v-if="Object.values(list.buys).length < 1 && select =='buys'">
                                <div class="grid place-items-center mx-2 my-20 sm:my-auto">
                                    <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-12 w-12 mb-4 text-blue-500"
                                            viewBox="0 0 20 20"
                                            fill="currentColor"
                                    >
                                        <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"/>
                                    </svg>

                                    <h2 class="text-xl text-gray-900 font-semibold mb-2">Покупок нет</h2>
                                    <p class="text-sm text-center text-gray-600">Ожидайте алгоритм на поиск выгодных
                                        сделок</p>
                                </div>
                            </div>

                            <transition-group name="list">
                            <div class="grid grid-cols-3 gap-4 p-2" v-for="ad in list.records" :key="ad.id"
                                 v-if="select == 'records'">
                                <div>
                                    <h4 class="font-bold p-0 m-0">Создано объявление #<span v-text="ad.id"></span></h4>
                                    <small class="p-0 m-0" v-text="ad.city"></small>
                                </div>
                                <div v-text="currency(ad.price)"></div>
                                <div v-text="amount(ad.amount)"></div>
                            </div>
                            </transition-group>

                            <transition-group name="list">
                            <div :class="['flex gap-4 p-2 mb-4', ad.status != 'A-created' ?  'opacity-50' : '', ad.status == 'error' ? 'bg-red-200' : '']" v-for="ad in list.buys" :key="ad.id"
                                 v-if="select == 'buys'">
                                <div class="">
                                    <svg v-if="ad.status == 'A-created'" xmlns="http://www.w3.org/2000/svg" class="border bg-green-50 border-green-200 text-white p-2 rounded-full h-12 w-12 text-green-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" >
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                                    </svg>
                                     <svg v-if="ad.status == 'canceled'" xmlns="http://www.w3.org/2000/svg" class="border bg-yellow-50 border-yellow-200 text-white p-2 rounded-full h-12 w-12 text-yellow-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" >
                                         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                    </svg>
                                    <svg v-if="ad.status == 'error'" xmlns="http://www.w3.org/2000/svg" class="border bg-red-100 border-red-200 text-white p-2 rounded-full h-12 w-12 text-red-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" >
                                         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>


                                </div>

                                <div class="w-full text-sm">
                                    <h4 class="font-bold p-0 m-0">Выкуплено объявление #<span v-text="ad.id"></span></h4>
                                    <small class="p-0 m-0 text-sm">На сумму <span v-text="ad.amount"></span> руб</small>

                                    <div class="flex gap-2 mt-2" v-if="ad.status == 'A-created'">
                                        <a href="#" class="text-yellow-500 hover:text-yellow-800" @click.prevent="get_chat(ad.contact_id)">Быстрый чат</a>
                                        <a :href="'https://localbitcoins.com/ad/' + ad.id" target="_blank" class="text-blue-500 hover:text-blue-800">Открыть объявление</a>
                                        <a href="#" class="text-red-500 hover:text-red-800" @click.prevent="cancel_order(ad.contact_id)">Отменить ордер</a>
                                    </div>
                                </div>

                            </div>
                            </transition-group>

                            <div class="p-2" v-if="select == 'settings'">
                               <div v-if="subselect == 'notify' || subselect == 'buy'">

                                    <div>

                                        <div class="mb-4" v-if="subselect == 'notify'">
                                            <div>
                                                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                                <input type="checkbox" name="get_notifications" id="get_notifications" v-model="form[subselect]['get_notifications']"
                                                       class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                                <label for="toggle"
                                                       class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                                </div>
                                                <label for="get_notifications" class="text-gray-700 cursor-pointer">Информировать по срабатыванию тригеров</label>
                                            </div>
                                        </div>


                                         <div class="mb-4" v-if="subselect == 'buy'">
                                            <div>
                                                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                                <input type="checkbox" name="get_notifications" id="get_notifications" v-model="form[subselect]['get_notifications']"
                                                       class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                                <label for="toggle"
                                                       class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                                </div>
                                                <label for="get_notifications" class="text-gray-700 cursor-pointer">Информировать по срабатыванию тригеров</label>
                                            </div>
                                        </div>

                                         <div class="mb-4" v-if="subselect == 'buy'">
                                            <div>
                                                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                                <input type="checkbox" name="buy" id="buy" v-model="form[subselect]['buy']"
                                                       class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                                <label for="toggle"
                                                       class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                                </div>
                                                <label for="buy" class="text-gray-700 cursor-pointer">Закупать по срабатыванию тригеров</label>
                                            </div>


                                        </div>

                                        <div class="mb-4">
                                            <div>
                                                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                                <input type="checkbox" name="min_percent" id="min_percent" v-model="form[subselect]['min_percent']"
                                                       class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                                <label for="toggle"
                                                       class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                                </div>
                                                <label for="min_percent" class="text-gray-700 cursor-pointer">Ограничить предложения минимальной
                                                    процентной ставкой</label>
                                            </div>

                                            <div v-if="form[subselect]['min_percent']">
                                                <p class="text-gray-700 mt-4 mb-2 font-regular">Процентная ставка</p>
                                               <div>
                                                   <input type="number" placeholder="0" name="min_percent_min" id="min_percent_min" v-model="form[subselect]['min_percent_min']" class="p-1 px-2 mb-5 bg-white w-auto border border-gray-200 rounded shadow-sm outline-none focus:ring focus:ring-blue-500">
                                                   <input type="number" placeholder="10" name="min_percent_max" id="min_percent_max" v-model="form[subselect]['min_percent_max']" class="p-1 px-2 mb-5 bg-white w-auto border border-gray-200 rounded shadow-sm outline-none focus:ring focus:ring-blue-500">
                                               </div>
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <div>
                                                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                                <input type="checkbox" name="payment_method" id="payment_method" v-model="form[subselect]['payment_method']"
                                                       class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                                <label for="toggle"
                                                       class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                                </div>
                                                <label for="payment_method" class="text-gray-700 cursor-pointer">Ограничить предложения методом оплаты</label>
                                            </div>
                                        </div>

                                        <div class="mb-4" v-if="form[subselect]['payment_method']">

                                            <div v-for="method in payment_methods" class="mb-2">
                                                 <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                                <input type="checkbox" name="payment_method" :id="'method_' + method.code" v-model="form[subselect]['payment_methods'][method.code]"
                                                       class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                                <label for="toggle"
                                                       class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                                </div>
                                                <label :for="'method_' + method.code" class="text-gray-700 cursor-pointer" v-text="method.name"></label>
                                            </div>


                                        </div>

                                        <div class="mb-4">
                                            <div>
                                                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                                <input type="checkbox" name="min_volume" id="min_volume" v-model="form[subselect]['min_volume']"
                                                       class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                                <label for="toggle"
                                                       class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                                </div>
                                                <label for="min_volume" class="text-gray-700 cursor-pointer">Ограничить предложения диапазоном суммы выкупа</label>
                                            </div>

                                            <div v-if="form[subselect]['min_volume']">
                                                <p class="text-gray-700 mt-4 mb-2 font-regular">Сумма выкупа</p>
                                               <div>
                                                   <input type="number" placeholder="0" name="min_volume_min" id="min_volume_min" v-model="form[subselect]['min_volume_min']" class="p-1 px-2 mb-5 bg-white w-auto border border-gray-200 rounded shadow-sm outline-none focus:ring focus:ring-blue-500">
                                                   <input type="number" placeholder="10" name="min_volume_max" id="min_volume_max" v-model="form[subselect]['min_volume_max']" class="p-1 px-2 mb-5 bg-white w-auto border border-gray-200 rounded shadow-sm outline-none focus:ring focus:ring-blue-500">
                                               </div>
                                            </div>
                                        </div>

                                        <div class="mb-4" v-if="subselect == 'buy'">
                                            <textarea cols="30" rows="10" v-model="form[subselect]['text']" class="w-full p-1 px-2 mb-5 bg-white border border-gray-200 rounded shadow-sm outline-none focus:ring focus:ring-blue-500"></textarea>
                                        </div>

                                    </div>

                                   <div class="grid grid-cols-2 gap-4">
                                        <button class="mt-4 block bg-blue-600 hover:bg-blue-dark text-white font-bold py-2 px-4 rounded" @click.prevent="submit">
                                            Сохранить параметры
                                        </button>
                                       <button class="mt-4 block bg-red-600 hover:bg-blue-dark text-white font-bold py-2 px-4 rounded"  @click.prevent="subselect = 'none'">
                                            Назад
                                        </button>
                                   </div>
                               </div>

                                <div v-else>

                                   <div class="grid grid-cols-2 gap-4 place-items-center mx-2 my-20 sm:my-auto">

                                        <div class="flex hover:bg-blue-500 hover:text-white w-full p-7 cursor-pointer rounded shadow" @click="subselect = 'notify'">
                                            <p class="w-full block"><b>Настройки уведомлений</b></p>
                                        </div>
                                        <div class="flex hover:bg-blue-500 hover:text-white w-full p-7 cursor-pointer rounded shadow" @click="subselect = 'buy'">
                                            <p class="w-full block"><b>Настройки закупок</b></p>
                                        </div>
                                    </div>


                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="portlet shadow border rounded-xl p-0 m-0 bg-white" id="binance_integrate_vue">
                    <div class="portlet-header m-0 px-3 py-2 text-gray-900 text-sm font-semibold border-gray-100 border-b">
                        Интеграция Binance
                    </div>

                    <div class="portlet-content">
                        <div class="grid grid-cols-3 gap-4 p-2">
                            <div>
                                <h4 class="font-bold p-0 m-0" v-text="currency(price.USDTRUB)"></h4>
                                <small class="p-0 m-0">Цена USD/RUB в моменте</small>
                            </div>

                            <div>
                                <h4 class="font-bold p-0 m-0" v-text="currency(price.BTCRUB)"></h4>
                                <small class="p-0 m-0">Цена BTC/RUB в моменте</small>
                            </div>

                            <div>
                                <h4 class="font-bold p-0 m-0" v-text="currency(price.ETHRUB)"></h4>
                                <small class="p-0 m-0">Цена ETC/RUB в моменте</small>
                            </div>

                            <div>
                                <h4 class="font-bold p-0 m-0" v-text="currency(price.LTCRUB)"></h4>
                                <small class="p-0 m-0">Цена LTC/RUB в моменте</small>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="portlet shadow border rounded-xl p-0 m-0 bg-white" id="wallet_vue">
                    <div class="portlet-header m-0 px-3 py-2 text-gray-900 text-sm font-semibold border-gray-100 border-b">
                        Кошельки обменника
                    </div>

                    <div class="portlet-content">
                        <div>
                            <div class="grid grid-cols-3 gap-4 p-2" v-for="wallet in list" :key="wallet.key">
                                <div>
                                    <h4 class="font-bold p-0 m-0" v-text="wallet.address"></h4>
                                    <small class="p-0 m-0" v-text="wallet.currency"></small>
                                </div>
                                <div>
                                    <h4 class="font-bold p-0 m-0" v-text="wallet.value"></h4>
                                    <small class="p-0 m-0">Объем средств на счету</small>
                                </div>
                            </div>

                            <button
                                    class="mt-4 block bg-gray-100 hover:bg-blue-dark text-gray-900 font-bold py-2 px-4 rounded text-sm w-full"
                                    @click="create()"
                            >
                                Добавить кошелек
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="-m-2 text-center fixed bottom-6 left-0 right-0 w-full" id="toast_vue">
            <div class="p-2 w-full">
                <transition-group name="list">
                    <div v-for="toast in list.slice(Math.max(list.length - 5, 1))" :key="toast.hash">
                        <div class="inline-flex items-center bg-white leading-none text-purple-600 rounded-full p-2 shadow text-teal text-sm m-1">
                            <span class="inline-flex bg-indigo-600 text-white rounded-full h-6 px-3 justify-center items-center"
                                  v-text="toast.title"></span>
                            <span class="inline-flex px-2" v-text="toast.text"></span>
                        </div>
                    </div>
                </transition-group>
            </div>
        </div>
    </div>

    <div class="absolute right-4 top-4" id="notification_vue">
        <transition-group name="list">
            <div class="bg-white rounded-lg border-gray-300 border p-3 shadow-lg mb-6 transtition"
                 v-for="notify in list" :key="notify.hash">
                <div class="flex flex-row">
                    <div class="px-2">
                        <svg width="24" height="24" viewBox="0 0 1792 1792" fill="#44C997"
                             xmlns="http://www.w3.org/2000/svg">
                            <path d="M1299 813l-422 422q-19 19-45 19t-45-19l-294-294q-19-19-19-45t19-45l102-102q19-19 45-19t45 19l147 147 275-275q19-19 45-19t45 19l102 102q19 19 19 45t-19 45zm141 83q0-148-73-273t-198-198-273-73-273 73-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273zm224 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/>
                        </svg>
                    </div>
                    <div class="ml-2 mr-6">
                        <span class="font-semibold" v-text="notify.title"></span>
                        <span class="block text-gray-500" v-text="notify.text"></span>
                    </div>
                </div>
            </div>
        </transition-group>
    </div>
    </div>

</main>
</body>

<footer>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>

    <script
            src="https://code.jquery.com/jquery-3.6.0.min.js"
    ></script>
    <script
            src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/dashboard.js') }}" defer></script>

    <script>
        window.U_LOGIN = "{{login}}";
    </script>

    <style>
        .column {
            min-width: 170px;
            float: left;
            padding-bottom: 100px;
        }

        .portlet {
            margin: 0 1em 1em 0;
            padding: 0.3em;
        }

        .portlet-content {
            padding: 0.4em;
        }

        .portlet-placeholder {
            border: 1px dotted black;
            margin: 0 1em 1em 0;
            height: 50px;
        }

        .ui-widget.ui-widget-content {
            border: none;
        }

        .list-item {
            display: inline-block;
            margin-right: 10px;
        }

        .list-enter-active, .list-leave-active {
            transition: all 300ms;
        }

        .list-enter, .list-leave-to /* .list-leave-active below version 2.1.8 */
        {
            opacity: 0;
            transform: translateY(30px);
        }

        .toggle-checkbox:checked {
            right: 0;
            border-color: #68D391;
        }

        .toggle-checkbox:checked + .toggle-label {
            background-color: #68D391;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
        {#-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);#}
        }

        ::-webkit-scrollbar-thumb {
            background-color: #323232;
            border-radius: 4px
        }

    </style>
</footer>
</html>
